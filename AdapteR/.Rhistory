library(devtools)
build_github_devtools()
install.packages("devtools")
library(devtools)
build_github_devtools()
library(RJDBC)
Sys.setenv(JAVA_HOME='C:\\Program Files\\Java\\jre7')
library(rJava)
Sys.setenv(JAVA_HOME='C:\Program Files (x86)\Java\jre1.8.0_66')
Sys.setenv(JAVA_HOME='C:\\Program Files (x86)\\Java\\jre1.8.0_66')
library(rJava)
install.packages("rJava")
Sys.setenv(JAVA_HOME='C:\\Program Files (x86)\\Java\\jre1.8.0_66')
library(rJava)
?array2vector
?vector2array
system.time((1:10000000/10))
system.time((1:1000000000/10))
system.time(as.ff(1:1000000000/10))
?apriori
??apriori
?select
??select
cor(matrix(1:4,2),matrix(1:6,3))
cor(matrix(1:4,2),1:6
)
cor(matrix(1:4,2),1:2)
class(cor(matrix(1:4,2),1:2))
cor(1:2,matrix(1:4,2))
l <- list(1:2,1)
l[[2]]
l[2]
l <- list(a=1:2,b=1)
l[["a"]]
length(1:3)
cor(1:3,1:4)
cor(1:3,1:6)
l <- list(a=1:2,b=3:4)
l[["a"]]
l <- list(a=1:2,3:4)
l[["a"]]
names(l)
l[[!"a"]]
paste0("")
paste0(" ")
library(RODBC)
con <- odbcConnect("Gandalf")
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide',
'ObsID',
'tblAbaloneDeep',
'ObsID',
'VarID',
'Num_Val',
'Rings',
'SEX(M),DummyCat(D)',
'","","',
AnalysisID);"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide',
'ObsID',
'tblAbaloneDeep',
'ObsID',
'VarID',
'Num_Val',
'Rings',
'SEX(M),DummyCat(D)',
'","","',
AnalysisID);"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide',
'ObsID',
'tblAbaloneDeep',
'ObsID',
'VarID',
'Num_Val',
'Rings',
'SEX(M),DummyCat(D)',
'","","',
AnalysisID);"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide',
'ObsID',
'tblAbaloneDeep',
'ObsID',
'VarID',
'Num_Val',
'Rings',
'SEX(M),DummyCat(D)',
'NULL',
AnalysisID);"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide',
'ObsID',
'tblAbaloneDeep',
'ObsID',
'VarID',
'Num_Val',
'Rings',
'SEX(M),DummyCat(D)',
'NULL',
AnalysisID);"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide',
'ObsID',
'tblAbaloneDeep',
'ObsID',
'VarID',
'Num_Val',
'Rings',
'SEX(M),DummyCat(D)',
'"," ","',
AnalysisID);"))
a<-" "
a
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide',
'ObsID',
'tblAbaloneDeep',
'ObsID',
'VarID',
'Num_Val',
'Rings',
'SEX(M),DummyCat(D)',
'",a,"',
AnalysisID);"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide',
'ObsID',
'tblAbaloneDeep',
'ObsID',
'VarID',
'Num_Val',
'Rings',
'SEX(M),DummyCat(D)',
'",a,"',
AnalysisID);"))
paste0("CALL FLWideToDeep('tblAbaloneWide',
+ 'ObsID',
+                      'tblAbaloneDeep',
+                      'ObsID',
+                      'VarID',
+                      'Num_Val',
+                      'Rings',
+                      'SEX(M),DummyCat(D)',
+                      '",a,"',
+                      AnalysisID);")
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide',
'ObsID',
'tblAbaloneDeep',
'ObsID',
'VarID',
'Num_Val',
'Rings',
'SEX(M),DummyCat(D)',
'",a,"',
AnalysisID);"))[1,1]
sqlGetResults(con, paste0("CALL FLWideToDeep('tblAbaloneWide',
'ObsID',
'tblAbaloneDeep',
'ObsID',
'VarID',
'Num_Val',
'Rings',
'SEX(M),DummyCat(D)',
'",a,"',
AnalysisID);"))[1,1]
paste0("CALL FLWideToDeep('tblAbaloneWide',
'ObsID',
'tblAbaloneDeep',
'ObsID',
'VarID',
'Num_Val',
'Rings',
'SEX(M),DummyCat(D)',
'",a,"',
AnalysisID);")
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide',
'ObsID',
'tblAbaloneDeep',
'ObsID',
'VarID',
'Num_Val',
'Rings',
'SEX(M),DummyCat(D)',
'",a,"',
AnalysisID)"))[1,1]
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide',
'ObsID',
'tblAbaloneDeep',
'ObsID',
'VarID',
'Num_Val',
'Rings',
'SEX(M),DummyCat(D)',
'",a,"',
AnalysisID)"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide','ObsID','tblAbaloneDeep','ObsID','VarID','Num_Val','Rings','SEX(M),DummyCat(D)','",a,"',AnalysisID)"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide','ObsID','tblAbaloneDeep','ObsID','VarID','Num_Val','Rings','SEX(M),DummyCat(D)','",a,"',AnalysisID)"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide','ObsID','tblAbaloneDeep','ObsID','VarID','Num_Val','Rings','SEX(M),DummyCat(D)',NULL,AnalysisID)"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide','ObsID','tblAbaloneDeep','ObsID','VarID','Num_Val','Rings','SEX(M),DummyCat(D)',NULL,AnalysisID)"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide','ObsID','tblAbaloneDeep','ObsID','VarID','Num_Val',NULL,NULL,NULL,AnalysisID)"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide','ObsID','tblAbaloneDeep','ObsID','VarID','Num_Val',NULL,NULL,NULL,AnalysisID)"))
sqlQuery(con,paste("select * from tblMatrixMulti where matrix_id=1"))
sqlQuery(con,paste("database FL_DEMO"))
sqlQuery(con,paste("select * from tblMatrixMulti where matrix_id=1"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide','ObsID','tblAbaloneDeep','ObsID','VarID','Num_Val',NULL,NULL,NULL,AnalysisID)"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide','ObsID','tblAbaloneDeep','ObsID','VarID','Num_Val',NULL,NULL,NULL,AnalysisID)"))
sqlQuery(con, paste0("CALL FLWideToDeep('tblAbaloneWide','ObsID','tblAbaloneDeep','ObsID','VarID','Num_Val',NULL,NULL,NULL,AnalysisID)"))
library(RJDBC)
l <- list(a=1)
l[["a"]]
l[["b"]]
is.null(l[["b"]])
f <- function(x,y){if(missing(y)) print("yes")}
f(1)
f(1,2)
setwd("C:/Users/phani/Downloads/AdapteR")
library(RJDBC)
library(testthat)
library(plyr)
library(RODBC)
library(reshape2)
devtools::load_all("AdapteR")
connection <- odbcConnect("Gandalf")
FLStartSession(connection)
expect_eval_equal <- function(initF,FLcomputationF,RcomputationF,benchmark=FALSE,...)
{
I <- initF(...)
expect_equal(FLcomputationF(I$FL),
RcomputationF(I$R),
check.attributes=FALSE)
}
expect_flequal <- function(a,b,...){
if(is.list(a))
for(i in 1:length(a))
expect_flequal(a[[i]],b[[i]],...)
expect_equal(a,b,...)
}
## Increase n for increasing length of FLVector.
## If isRowVec=TRUE, rowVector(one observation of all columns) is returned.
initF.FLVector <- function(n,isRowVec=FALSE)
{
sqlSendUpdate(connection,
c(paste0("DROP TABLE FL_DEMO.test_vectortable_AdapteR;"),
paste0("CREATE TABLE FL_DEMO.test_vectortable_AdapteR
AS(SELECT 1 AS VECTOR_ID,a.serialval AS VECTOR_INDEX,
CAST(RANDOM(0,100) AS FLOAT)AS VECTOR_VALUE
FROM FL_DEMO.fzzlserial a
WHERE a.serialval < ",ifelse(isRowVec,2,n+1),") WITH DATA ")))
table <- FLTable(connection,
"FL_DEMO",
"test_vectortable_AdapteR",
"VECTOR_INDEX",
whereconditions=paste0("FL_DEMO.test_vectortable_AdapteR.VECTOR_ID = 1")
)
if(isRowVec)
flv <- table[1,base::sample(c("VECTOR_VALUE","VECTOR_INDEX"),n,replace=TRUE)]
else
flv <- table[1:n,"VECTOR_VALUE"]
Rvector <- as.vector(flv)
return(list(FL=flv,R=Rvector))
}
## Increase the value of n to increase the dimensions of FLMatrix returned.
## Returns n*n or n*(n-1) based on isSquare.
initF.FLMatrix <- function(n,isSquare=FALSE)
{
sqlSendUpdate(connection,
c(paste0("DROP TABLE FL_DEMO.test_matrixtable_AdapteR;"),
paste0("CREATE TABLE FL_DEMO.test_matrixtable_AdapteR
AS(SELECT 1 AS MATRIX_ID,a.serialval AS ROW_ID,
b.serialval AS COL_ID,CAST(random(0,100) AS FLOAT)AS CELL_VAL
FROM FL_DEMO.fzzlserial a,FL_DEMO.fzzlserial b
WHERE a.serialval < ",n+1," and b.serialval < ",ifelse(isSquare,n+1,n),") WITH DATA ")))
flm <- FLMatrix(connection,
database          = "FL_DEMO",
matrix_table      = "test_matrixtable_AdapteR",
matrix_id_value   = 1,
matrix_id_colname = "Matrix_ID",
row_id_colname    = "Row_ID",
col_id_colname    = "Col_ID",
cell_val_colname  = "Cell_Val")
Rmatrix <- as.matrix(flm)
return(list(FL=flm,R=Rmatrix))
}
initF.FLTable <- function(rows,cols)
{
WideTable <- FLTable(connection,
"FL_DEMO",
"fzzlserial",
"serialval",
whereconditions=paste0("FL_DEMO.fzzlserial.serialval<100"))
return(WideTable[1:rows,base::sample(c("randval","serialval"),cols,replace=TRUE)])
}
setMethod("expect_equal",signature("FLMatrix","matrix"),
function(object,expected,...) expect_equal(as.matrix(object),expected,...))
setMethod("expect_equal",signature("FLMatrix","FLMatrix"),
function(object,expected,...) expect_equal(as.matrix(object),as.matrix(expected),...))
setMethod("expect_equal",signature("dgCMatrix","FLMatrix"),
function(object,expected,...) expect_equal(object,as.matrix(expected),...))
setMethod("expect_equal",signature("FLVector","vector"),
function(object,expected,...) expect_equal(as.vector(object),expected,...))
setMethod("expect_equal",signature("FLVector","FLVector"),
function(object,expected,...) expect_equal(as.vector(object),as.vector(expected),...))
setMethod("expect_equal",signature("matrix","matrix"),
function(object,expected,...) testthat::expect_equal(as.vector(object),as.vector(expected),...))
setMethod("expect_equal",signature("list","list"),
function(object,expected,...)
llply(names(object),
function(i)
expect_equal(object[[i]],expected[[i]],...)))
flv <- initF.FLVector(5)$FL
flv
t<-as.FLMatrix(flv)
devtools::load_all("AdapteR")
devtools::load_all("AdapteR")
t<-as.FLMatrix(flv)
dimnames(t)
t
flv
solve(t)
colMeans(t)
rowMeans(t)
?apply
m<-Matrix(1:4,2)
m<-Matrix(1:4,2,sparse = TRUE)
md <- summary(m)
md
apply(md,1,function(x)print(x))
apply(md,1,function(x)x)
apply(md,2,function(x)x)
apply(md,1,function(x)paste0(x))
apply(md,1,function(x)paste0(1,x))
apply(md,1,function(x)paste0(1,x,collapse=";"))
apply(md,1,function(x)paste0(1,x,collapse=",",";"))
base::apply(md,1,
function(r)
paste0(" INSERT INTO ",
" (matrix_id, rowIdColumn, colIdColumn, valueColumn) VALUES (",
paste0(c(10,r), collapse=", "),
");"))
apply(1:4,FUN = function(x){apply(1:4,FUN = function(y){paste0("select",x,y,"blah;")})})
apply(1:4,FUN = function(x){apply(1:4,FUN = function(y){paste0("select",x,y,"blah;")})})
{apply(1:4,FUN = function(y){paste0("select",x,y,"blah;")})})
{apply(1:4,FUN = function(y){paste0("select",x,y,"blah;")})}
dim(1:4)
sapply(1:4,FUN = function(x){sapply(1:4,FUN = function(y){paste0("select",x,y,"blah;")})})
sapply(1:40000,FUN = function(x){sapply(1:40000,FUN = function(y){paste0("select",x,y,"blah;")})})
sapply(1:400,FUN = function(x){sapply(1:400,FUN = function(y){paste0("select",x,y,"blah;")})})
sapply(1:4,FUN = function(x){sapply(1:4,FUN = function(y){paste0("select",x,y,"blah",collapse=";")})})
as.vector(sapply(1:4,FUN = function(x){sapply(1:4,FUN = function(y){paste0("select",x,y,"blah",collapse=";")})}))
as.vector(sapply(1:400,FUN = function(x){sapply(1:400,FUN = function(y){paste0("select",x,y,"blah",collapse=";")})}))
matrix(1:4,2)
paste("select",1:4,",",1:4,",",1:2,"from...")
apply(1:4,FUN=function(x){paste0("select",x,",",1:4,",",1:2,"from...")})
sapply(1:4,FUN=function(x){paste0("select",x,",",1:4,",",1:2,"from...")})
sapply(1,FUN=function(x){paste0("select",x,",",1:4,",",1:2,"from...")})
sapply(1:2,FUN=function(x){paste0("select",x,",",1:4,",",1:3,"from...")})
sapply(1:2,FUN=function(x){paste0("select",x,",",1:4,",",1:6,"from...")})
matrix(1:6,2,2)
sapply(1:2,FUN=function(x){paste0("select",1:3,",",x,",",1:6,"from...")})
k<-1
k++
)
<-c("hey")
t<-c("hey")
t<-c("ji",t)
t
paste(t,collapse = "union")
t<-c("","hey")
t[!is.null(t)]
t[(t)!=""]
devtools::load_all("AdapteR")
devtools::load_all("AdapteR")
flv
t<-as.FLMatrix(flv,rows=2,cols=6)
constructSelect(t)
t
devtools::load_all("AdapteR")
t<-as.FLMatrix(flv,rows=2,cols=6)
t
dimnames(t)
flv
devtools::load_all("AdapteR")
t<-as.FLMatrix(flv,rows=2,cols=6)
t
devtools::load_all("AdapteR")
t<-as.FLMatrix(flv,rows=2,cols=6)
t
devtools::load_all("AdapteR")
t<-as.FLMatrix(flv,rows=2,cols=6)
t
devtools::load_all("AdapteR")
t<-as.FLMatrix(flv,rows=2,cols=6)
t
flv <- initF.FLVector(5,TRUE)
flv <- flv$FL
flv
t<-as.FLMatrix(flv,rows=2,cols=6)
t
devtools::load_all("AdapteR")
t<-as.FLMatrix(flv,rows=2,cols=6)
t
store(t)
paste0(1:3,collapse="union")
paste0(1:3,"hey")
devtools::load_all("AdapteR")
connection <- odbcConnect("Gandalf")
m4 <- FLMatrix(connection,"FL_DEMO","tblmatrixMulti",5,"Matrix_id","ROW_ID","COL_ID","CELL_VAL") # Symmetric non-singular matrix of dimension 5x5
t<-as.FLVector(m4)
devtools::load_all("AdapteR")
t<-as.FLVector(m4)
t
class(t)
t@select
t@dimnames
devtools::load_all("AdapteR")
t<-as.FLVector(m4)
t
as.vector(t)
devtools::load_all("AdapteR")
t<-as.FLVector(m4)
t
dimnames(t)
devtools::load_all("AdapteR")
t<-as.FLVector(m4)
t
devtools::load_all("AdapteR")
t<-as.FLVector(m4)
t
m3 <- FLMatrix(connection,"FL_DEMO","tblmatrixMulti",3,"Matrix_id","ROW_ID","COL_ID","CELL_VAL") #  Non-Square Matrix of dimension 4x5
as.FLVector(m3)
as.vector(as.matrix(m3))
store(t)
devtools::load_all("AdapteR")
t<-as.FLVector(m4)
devtools::load_all("AdapteR")
t<-as.FLVector(m4)
t
t<-as.FLVector(m4)
devtools::load_all("AdapteR")
t<-as.FLVector(m4)
devtools::load_all("AdapteR")
t<-as.FLVector(m4)
devtools::load_all("AdapteR")
t<-as.FLVector(m4)
devtools::load_all("AdapteR")
flv
flv<-initF.FLVector(5)$FL
flv
t<-as.FLMatrix(flv)
t
t<-as.FLMatrix(flv,rows=2,cols=3)
t
devtools::load_all("AdapteR")
t<-as.FLMatrix(flv,rows=2,cols=3)
t
flv
colMeans(as.FLMatrix(flv))
colMeans(as.FLMatrix(flv,rows=4,cols=10))
